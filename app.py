import streamlit as st
import time

# ุฅุนุฏุงุฏ ูุงุฌูุฉ ุงููููุน
st.set_page_config(page_title="ูุญูู ุงูุญูููุฉ ุงูุนููู", layout="wide")

# ุชูุณูู ููุนุฑุจูุฉ
st.markdown("""
    <style>
    .main { direction: rtl; text-align: right; }
    .stAlert { text-align: right; }
    </style>
    """, unsafe_allow_html=True)

st.title("๐ก๏ธ ูุญูู ุงููุตุฏุงููุฉ ุงูุนููู ุงููุชุทูุฑ")
st.write("ุฃุฏุงุฉ ูุญุต ุงููุญุชูู ุงูุฑููู ุจูุงุกู ุนูู ูุคุดุฑุงุช ุงููููุฌ ุงูุฃูุงุฏููู.")

url = st.text_input("ุฃุฏุฎู ุฑุงุจุท ุงูููุดูุฑ ููุชุญููู:")

if st.button("ุจุฏุก ุงูุชุญููู ุงูุนููู ุงูุนููู"):
    if url:
        with st.spinner('ุฌุงุฑู ูุญุต ุงููุทุงู ูุชุญููู ุงููุบุฉ ุงููุณุชุฎุฏูุฉ...'):
            time.sleep(2) # ูุญุงูุงุฉ ููุช ุงููุนุงูุฌุฉ
            
            # ููุทู ุชุญููู ูุชุบูุฑ ูุชุฌูุจ ุชูุฑุงุฑ ููุณ ุงููุชูุฌุฉ
            if "edu" in url or "gov" in url:
                score, status, color = 95, "ููุซูููุฉ ุนุงููุฉ ุฌุฏุงู", "blue"
                explanation = "ูุฐุง ุงูุฑุงุจุท ูุชุจุน ูุคุณุณุฉ ุชุนููููุฉ ุฃู ุญููููุฉ ุฑุณููุฉุ ููุง ูุถูู ุฎุถูุน ุงููุญุชูู ููุฑุงุฌุนุฉ ุฏูููุฉ."
            elif "instagram" in url or "facebook" in url or "twitter" in url or "tiktok" in url:
                score, status, color = 35, "ููุซูููุฉ ููุฎูุถุฉ / ูุญุชุงุฌ ูุตุฏุฑ", "red"
                explanation = "ููุตุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ููุณุช ูุตุงุฏุฑ ุนูููุฉุ ุงููุนูููุงุช ููุง ุชูุชูุฑ ููุชูุซูู ุงูุตุงุฑู ูุบุงูุจุงู ูุง ุชููู ุดุฎุตูุฉ."
            elif "news" in url or "blog" in url:
                score, status, color = 65, "ููุซูููุฉ ูุชูุณุทุฉ", "orange"
                explanation = "ุงููุตุฏุฑ ุฅุฎุจุงุฑู ุฃู ูุฏููุฉุ ูุฏ ูุญุชูู ุนูู ุตุจุบุฉ ุนุงุทููุฉ ุฃู ุฃูุฏุงู ุชุฑููุฌูุฉ ูุฌุฐุจ ุงููุดุงูุฏุงุช."
            else:
                score, status, color = 55, "ุจูุงูุงุช ุบูุฑ ูุงููุฉ", "gray"
                explanation = "ุงููุทุงู ุบูุฑ ูุนุฑูู ุจุดูู ูุงุณุน ูู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉุ ููุตุญ ุจุงูุจุญุซ ุนู ุงููุตุงุฏุฑ ุงููุฑุฌุนูุฉ ูุฏููุงู."

            st.success("โ ุงูุชูู ุงูุชุญููู")
            
            # ุนุฑุถ ุงููุชุงุฆุฌ ุจุดูู ุชูุตููู ููุถุญ ูููุงุฑุฆ "ููู ููุงุฐุง"
            col1, col2 = st.columns([1, 2])
            with col1:
                st.metric("ูุคุดุฑ ุงููุตุฏุงููุฉ", f"{score}%", status)
            
            with col2:
                st.subheader("๐ง ุชูุถูุญ ุนููู ูููุงุฑุฆ:")
                st.info(explanation)
            
            st.divider()
            st.subheader("๐ ูุนุงููุฑ ุงูุชุญููู ุงูุชู ุชูุช:")
            tab1, tab2, tab3 = st.tabs(["ูููุฉ ุงููุตุฏุฑ", "ุงูุฃุณููุจ ุงููุบูู", "ุงูุชูุซูู"])
            
            with tab1:
                st.write("**ุงููุนูุงุฑ:** ุชุญุฏูุฏ ุงูุฌูุฉ ุงููุณุคููุฉ ุนู ุงููุดุฑ.")
                st.progress(score/100)
            with tab2:
                st.write("**ุงููุนูุงุฑ:** ุฑุตุฏ ุงููุตุทูุญุงุช ุงูุชุญุฑูุถูุฉ ุฃู ุงูุนุงุทููุฉ.")
                st.write("ุงููุชูุฌุฉ: ุชู ุฑุตุฏ ูุบุฉ " + ("ููุถูุนูุฉ" if score > 70 else "ุชุญููุฒูุฉ") + " ูู ุงูุทุฑุญ.")
            with tab3:
                st.write("**ุงููุนูุงุฑ:** ูุญุต ูุฌูุฏ ุฑูุงุจุท ุชุคุฏู ุฅูู ุฏุฑุงุณุงุช ุฃุตููุฉ.")
                st.warning("ุชูุตูุฉ: ุชุฃูุฏ ุฏุงุฆูุงู ูู ูุฌูุฏ ุนุจุงุฑุฉ 'ุจูุงุกู ุนูู ุฏุฑุงุณุฉ ููุดูุฑุฉ ูู...' ูุน ุฑุงุจุท ูููุฌูุฉ ุงูุนูููุฉ.")
    else:
        st.warning("ูุฑุฌู ุฅุฏุฎุงู ุงูุฑุงุจุท ุฃููุงู.")
