import streamlit as st
import time

# ุฅุนุฏุงุฏ ูุงุฌูุฉ ุงููููุน
st.set_page_config(page_title="ูุญูู ุงูุญูููุฉ ุงูุนููู", layout="wide")

# ุชูุณูู ููุนุฑุจูุฉ
st.markdown("""
    <style>
    .main { direction: rtl; text-align: right; }
    .stAlert { text-align: right; }
    </style>
    """, unsafe_allow_html=True)

st.title("๐ก๏ธ ูุญูู ุงููุตุฏุงููุฉ ุงูุนููู ุงููุชุทูุฑ")
st.write("ุฃุฏุงุฉ ูุญุต ุงููุญุชูู ุงูุฑููู ุจูุงุกู ุนูู ูุคุดุฑุงุช ุงููููุฌ ุงูุฃูุงุฏููู.")

url = st.text_input("ุฃุฏุฎู ุฑุงุจุท ุงูููุดูุฑ ููุชุญููู:")

if st.button("ุจุฏุก ุงูุชุญููู ุงูุนููู ุงูุนููู"):
    if url:
        with st.spinner('ุฌุงุฑู ูุญุต ุงููุทุงู ูุชุญููู ุงููุบุฉ ุงููุณุชุฎุฏูุฉ...'):
            time.sleep(2) # ูุญุงูุงุฉ ููุช ุงููุนุงูุฌุฉ
            
            # ููุทู ุชุญููู ูุชุบูุฑ ุจูุงุกู ุนูู ููุน ุงูุฑุงุจุท
            if "edu" in url or "gov" in url:
                score, status, color = 95, "ููุซูููุฉ ุนุงููุฉ ุฌุฏุงู", "blue"
                explanation = "ูุฐุง ุงูุฑุงุจุท ูุชุจุน ูุคุณุณุฉ ุชุนููููุฉ ุฃู ุญููููุฉ ุฑุณููุฉุ ููุง ูุนูู ุฃู ุงููุญุชูู ุฎุงุถุน ููุฑุงุฌุนุฉ ุฏูููุฉ."
            elif "news" in url or "blog" in url:
                score, status, color = 65, "ููุซูููุฉ ูุชูุณุทุฉ", "orange"
                explanation = "ุงููุตุฏุฑ ุฅุฎุจุงุฑูุ ูุฏ ูุญุชูู ุนูู ุตุจุบุฉ ุนุงุทููุฉ ุฃู ุงูุญูุงุฒุงุช ูุชุญููู ูุดุงูุฏุงุช."
            elif "instagram" in url or "facebook" in url:
                score, status, color = 35, "ููุซูููุฉ ููุฎูุถุฉ / ูุญุชุงุฌ ูุตุฏุฑ"ุ "red"
                explanation = "ููุตุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ููุณุช ูุตุงุฏุฑ ุนูููุฉ ุจุญุฏ ุฐุงุชูุงุ ุจู ูู ูุงููุฉ ูููุนูููุงุช ุงูุชู ูุฏ ุชูุชูุฑ ููุชูุซูู."
            else:
                score, status, color = 50, "ุจูุงูุงุช ุบูุฑ ูุงููุฉ", "gray"
                explanation = "ุงููุทุงู ุบูุฑ ูุนุฑูู ุจุดูู ูุงุณุนุ ููุตู ุจุงูุจุญุซ ุนู 'ุงุณู ุงููุงุชุจ' ุฃู 'ุงููุตุงุฏุฑ ุงููุฑุฌุนูุฉ' ูุฏููุงู."

            st.success("โ ุงูุชูู ุงูุชุญููู")
            
            # ุนุฑุถ ุงููุชุงุฆุฌ ุจุดูู ุชูุตููู
            col1, col2 = st.columns([1, 2])
            with col1:
                st.metric("ูุคุดุฑ ุงููุตุฏุงููุฉ", f"{score}%", status)
            
            with col2:
                st.subheader("๐ง ููุงุฐุง ูุฐู ุงููุชูุฌุฉุ")
                st.info(explanation)
            
            st.divider()
            st.subheader("๐ ูุนุงููุฑ ุงูุชุญููู ุงููุทุจูุฉ:")
            st.write("1. **ูุญุต ุงููุทุงู (Domain):** ุชุญุฏูุฏ ุงูุฌูุฉ ุงููุณุคููุฉ ุนู ุงููุดุฑ.")
            st.write("2. **ุฑุตุฏ ุงููุบุฉ:** ูู ุงููุบุฉ ุงููุณุชุฎุฏูุฉ ููุถูุนูุฉ ุฃู ุชุญุฑูุถูุฉุ")
            st.write("3. **ุงูุจููุฉ ุงูุจุฑูุงููุฉ:** ูู ููุงู ุฑูุงุจุท ุชุคุฏู ุฅูู ุฏุฑุงุณุงุช ุฃุตููุฉุ")
    else:
        st.warning("ูุฑุฌู ุฅุฏุฎุงู ุงูุฑุงุจุท ุฃููุงู.")
